"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["6614"],{77984:function(e,t,s){s.d(t,{F:()=>n});var l=s(68271),a=s(94821),i=s(76882);let n=()=>{let{t:e}=i.Z.global,{copy:t,isSupported:s,copied:n}=(0,a.VPI)({legacy:!0});return{copied:n,copyText:async a=>{if(!a)return void l.v0.error(e("common.useCopy.noText"));s.value?(await t(a),l.v0.success(e("common.useCopy.success"))):l.v0.error(e("common.useCopy.failed"))}}}},60509:function(e,t,s){s.r(t),s.d(t,{default:()=>e6});var l=s(58786),a=s(30989),i=s(15410),n=s(68271),r=s(34541);let{t:o}=s(76882).Z.global,m=()=>r.e.get("/settings/get_system_config"),u=()=>r.e.get("/settings/get_timezone_list"),c=e=>r.e.post("/settings/set_system_config_key",e,{fetchOptions:{loading:o("settings.api.loading.setting"),successMessage:!0}}),d=e=>r.e.post("/settings/set_ssl_config",e,{fetchOptions:{loading:o("settings.api.loading.settingSSL"),successMessage:!0}}),p=()=>r.e.post("/ssl/console_apply_cert",{},{fetchOptions:{loading:o("settings.api.loading.applyingCert"),successMessage:!0}}),v=e=>r.e.post("/settings/add_ip_whitelist",e,{fetchOptions:{loading:o("settings.api.loading.adding"),successMessage:!0}}),g=e=>r.e.post("/settings/delete_ip_whitelist",e,{fetchOptions:{loading:o("settings.api.loading.deleting"),successMessage:!0}}),_=()=>r.e.post("/settings/set_ip_whitelist",{ip_list:[]},{fetchOptions:{loading:o("settings.api.loading.clearing"),successMessage:!0}}),w=e=>r.e.post("/settings/set_reverse_proxy_domain",e,{fetchOptions:{loading:o("settings.api.loading.setting"),successMessage:!0}}),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.e.post("/settings/delete_reverse_proxy_domain",e,{fetchOptions:{loading:o("settings.api.loading.clearing"),successMessage:!0}})},y=(0,a.Q_)("SettingsCommonStore",()=>{let e=(0,l.iH)(""),t=(0,l.iH)(!1),s=(0,l.iH)({level:"weak",score:0}),a=(0,l.iH)(""),r=(0,l.qj)({username:"",newPassword:"",confirmPassword:"",securityPath:""}),o=(0,l.qj)({domain:"",sslEnabled:!0,sslCert:"",sslKey:""}),u=(0,l.qj)({status:!1,expireTime:"",expireDays:0}),c=(0,l.iH)(""),d=(0,l.iH)(""),p=(0,l.iH)(""),v=(0,l.iH)(""),g=(0,l.iH)(""),_=(0,l.iH)(""),w=(0,l.iH)(!1),f=(0,l.iH)([]),y=(0,l.iH)(""),x=async()=>{let t=await m();if((0,n.Kn)(t)){if(e.value=t.admin_username,a.value=t.safe_path,c.value=t.billionmail_hostname,_.value=t.server_ip,w.value=t.ip_whitelist_enable,f.value=t.ip_whitelist,t.manage_ports&&(d.value=`${t.manage_ports.https}`,p.value=t.manage_ports.command_https),t.manage_timezone&&(v.value=t.manage_timezone.timezone,g.value=t.manage_timezone.command),t.ssl){o.sslCert=t.ssl.certPem,o.sslKey=t.ssl.privateKey,u.status=t.ssl.status;let e=new Date(t.ssl.notAfter);u.expireTime=(0,n.mr)(e,"yyyy-MM-dd"),u.expireDays=(0,i.j)(e,new Date)}t.reverse_proxy_domain&&(y.value=t.reverse_proxy_domain.reverse_proxy||t.reverse_proxy_domain.current_url)}};return{currentUsername:e,currentPath:a,passwordMismatch:t,passwordStrength:s,securityForm:r,networkForm:o,sslInfo:u,currentDomain:c,currentPort:d,portCommand:p,currentTime:v,timeCommand:g,serverIp:_,ipWhitelistEnable:w,ipWhitelistList:f,currentProxy:y,checkPasswordStrength:()=>{let e=r.newPassword,t=0;e.length>=8&&t++,e.match(/[a-z]/)&&t++,e.match(/[A-Z]/)&&t++,e.match(/[0-9]/)&&t++,e.match(/[^a-zA-Z0-9]/)&&t++,t<=2?s.value={level:"weak",score:t}:t<=4?s.value={level:"medium",score:t}:s.value={level:"strong",score:t}},getCommonConfig:x,reset:()=>{r.username="",r.newPassword="",r.confirmPassword="",r.securityPath="",o.domain="",o.sslEnabled=!0,o.sslCert="",o.sslKey="",u.status=!1,u.expireTime="",u.expireDays=0,d.value="",p.value="",v.value="",g.value="",_.value="",t.value=!1,s.value={level:"weak",score:0}}}}),x=()=>{let e=y();return{...e,...(0,a.Jk)(e)}};var h=s(57869),U=s(98048),S=s(33756),b=s(56357),W=s(15496),k=s(6455),P=s(73084),Z=s(52495);let z={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},C={class:"mt-1 text-xs text-desc"},H={class:"mt-1 text-xs text-desc"},T={class:"mt-4px"},$=(0,l.aZ)({__name:"UsernameSettings",setup(e,t){let{expose:s}=t,{t:a}=(0,Z.QT)(),{currentUsername:i,securityForm:n}=x(),r=(0,l.AE)("formItemRef"),o=async()=>{var e;await (null==(e=r.value)?void 0:e.validate()),await c({key:"admin_username",value:n.value.username}),i.value=n.value.username,n.value.username=""};return s({rules:{username:{trigger:["blur","input"],validator:()=>{let{username:e}=n.value;return e.length<4||e.length>20?Error(a("settings.common.security.usernameValidation.lengthError")):/^[a-zA-Z0-9_]+$/.test(e)?e!==i.value||Error(a("settings.common.security.usernameValidation.duplicateError")):Error(a("settings.common.security.usernameValidation.formatError"))}}}}),(e,t)=>{let s=P.Z,a=k.ZP,m=W.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(a,{ref_key:"formItemRef",ref:r,label:e.$t("settings.common.security.username"),path:"username"},{default:(0,l.w5)(()=>[(0,l._)("div",z,[(0,l._)("div",null,[(0,l.Wm)(s,{value:(0,l.SU)(i),disabled:""},null,8,["value"]),(0,l._)("p",C,(0,l.zw)(e.$t("settings.common.security.currentUsername")),1)]),(0,l._)("div",null,[(0,l.Wm)(s,{value:(0,l.SU)(n).username,"onUpdate:value":t[0]||(t[0]=e=>(0,l.SU)(n).username=e),placeholder:e.$t("settings.common.security.newUsernamePlaceholder")},null,8,["value","placeholder"]),(0,l._)("p",H,(0,l.zw)(e.$t("settings.common.security.usernameRule")),1)])])]),_:1},8,["label"]),(0,l._)("div",T,[(0,l.Wm)(m,{type:"primary",disabled:!(0,l.SU)(n).username,onClick:o},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),E={class:"mt-2 flex items-center"},D={class:"flex-1 bg-gray-200 rounded-full h-1 mr-2"},R={class:"text-xs text-gray-500"},j=(0,l.aZ)({__name:"PasswordStrengthIndicator",props:{strength:{type:Object,required:!0}},setup(e){let{t}=(0,Z.QT)(),s=(0,l.Fl)(()=>{switch(e.strength.level){case"weak":return"bg-error";case"medium":return"bg-warning";case"strong":return"bg-primary";default:return"bg-gray-300"}}),a=(0,l.Fl)(()=>{switch(e.strength.level){case"weak":return"30%";case"medium":return"60%";case"strong":return"100%";default:return"0%"}}),i=(0,l.Fl)(()=>t(`settings.common.security.strength.${e.strength.level}`));return(e,n)=>((0,l.wg)(),(0,l.iD)("div",E,[(0,l._)("div",D,[(0,l._)("div",{class:(0,l.C_)(["h-1 rounded-full transition-all duration-300",(0,l.SU)(s)]),style:(0,l.j5)({width:(0,l.SU)(a)})},null,6)]),(0,l._)("span",R,(0,l.zw)((0,l.SU)(t)("settings.common.security.passwordStrength"))+": "+(0,l.zw)((0,l.SU)(i)),1)]))}}),O={class:"flex-1 flex flex-col gap-20px"},q=(0,l.aZ)({__name:"PasswordSettings",setup(e,t){let{expose:s}=t,{t:a}=(0,Z.QT)(),{securityForm:i,passwordStrength:n,checkPasswordStrength:r}=x(),o=(0,l.AE)("formItemRef"),m=(0,l.Fl)(()=>!i.value.newPassword||!i.value.confirmPassword),u=()=>{r()},d=async()=>{var e;await (null==(e=o.value)?void 0:e.validate()),await c({key:"admin_password",value:i.value.newPassword}),i.value.newPassword="",i.value.confirmPassword=""};return s({rules:{password:{trigger:["input","blur"],validator:()=>!i.value.newPassword||!i.value.confirmPassword||i.value.newPassword===i.value.confirmPassword||Error(a("settings.common.security.passwordMismatch"))}}}),(e,t)=>{let s=P.Z,r=k.ZP,c=W.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{ref_key:"formItemRef",ref:o,label:e.$t("settings.common.security.changePassword"),path:"password"},{default:(0,l.w5)(()=>[(0,l._)("div",O,[(0,l._)("div",null,[(0,l.Wm)(s,{value:(0,l.SU)(i).newPassword,"onUpdate:value":[t[0]||(t[0]=e=>(0,l.SU)(i).newPassword=e),u],type:"password",class:"password-input","show-password-on":"click",placeholder:(0,l.SU)(a)("settings.common.security.newPassword")},null,8,["value","placeholder"]),(0,l.Wm)(j,{strength:(0,l.SU)(n)},null,8,["strength"])]),(0,l._)("div",null,[(0,l.Wm)(s,{value:(0,l.SU)(i).confirmPassword,"onUpdate:value":t[1]||(t[1]=e=>(0,l.SU)(i).confirmPassword=e),type:"password",class:"password-input","show-password-on":"click",placeholder:(0,l.SU)(a)("settings.common.security.confirmPassword")},null,8,["value","placeholder"])])])]),_:1},8,["label"]),(0,l._)("div",null,[(0,l.Wm)(c,{type:"primary",disabled:(0,l.SU)(m),onClick:d},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(a)("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),A={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},K={class:"mt-1 text-xs text-desc"},M={class:"mt-1 text-xs text-desc"},I={class:"mt-4px"},Q=(0,l.aZ)({__name:"SecurityPathSettings",setup(e){let{t}=(0,Z.QT)(),{currentPath:s,securityForm:a}=x(),i=async()=>{await c({key:"safe_path",value:a.value.securityPath}),s.value=a.value.securityPath,a.value.securityPath=""};return(e,n)=>{let r=P.Z,o=k.ZP,m=W.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(o,{label:(0,l.SU)(t)("settings.common.security.securityPath")},{default:(0,l.w5)(()=>[(0,l._)("div",A,[(0,l._)("div",null,[(0,l.Wm)(r,{value:(0,l.SU)(s),disabled:""},null,8,["value"]),(0,l._)("p",K,(0,l.zw)((0,l.SU)(t)("settings.common.security.currentPath")),1)]),(0,l._)("div",null,[(0,l.Wm)(r,{value:(0,l.SU)(a).securityPath,"onUpdate:value":n[0]||(n[0]=e=>(0,l.SU)(a).securityPath=e),placeholder:(0,l.SU)(t)("settings.common.security.newPathPlaceholder")},null,8,["value","placeholder"]),(0,l._)("p",M,(0,l.zw)((0,l.SU)(t)("settings.common.security.pathRule")),1)])])]),_:1},8,["label"]),(0,l._)("div",I,[(0,l.Wm)(m,{type:"primary",disabled:!(0,l.SU)(a).securityPath,onClick:i},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(t)("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),F={class:"flex items-center"},V={class:"text-lg font-medium"},Y=(0,l.aZ)({__name:"SecuritySettings",setup(e){let{t}=(0,Z.QT)(),{securityForm:s}=x(),a=(0,l.iH)({}),i=(0,l.AE)("usernameRef"),n=(0,l.AE)("passwordRef");return(0,l.bv)(()=>{i.value&&(a.value={...a.value,...i.value.rules}),n.value&&(a.value={...a.value,...n.value.rules})}),(e,r)=>{let o=b.g,m=S.Z,u=U.Z,c=h.ZP;return(0,l.wg)(),(0,l.j4)(c,{class:"mb-8",bordered:!1},{header:(0,l.w5)(()=>[(0,l._)("div",F,[(0,l.Wm)(o,{class:"mr-2 text-primary",size:"20"},{default:(0,l.w5)(()=>r[0]||(r[0]=[(0,l._)("i",{class:"i-mdi-shield-account"},null,-1)])),_:1,__:[0]}),(0,l._)("span",V,(0,l.zw)((0,l.SU)(t)("settings.common.security.title")),1)])]),default:(0,l.w5)(()=>[(0,l.Wm)(u,{model:(0,l.SU)(s),rules:(0,l.SU)(a)},{default:(0,l.w5)(()=>[(0,l.Wm)($,{ref_key:"usernameRef",ref:i},null,512),(0,l.Wm)(m),(0,l.Wm)(q,{ref_key:"passwordRef",ref:n},null,512),(0,l.Wm)(m),(0,l.Wm)(Q)]),_:1},8,["model","rules"])]),_:1})}}});var G=s(29875);let L={class:"block text-sm font-medium mb-3"},N={class:"flex items-center mb-4"},J={class:"ml-2 font-medium"},B={class:"mt-6"},X={class:"block text-sm font-medium mb-2"},ee={class:"flex items-center"},et={class:"text-sm"},es={class:"text-sm"},el={class:"text-sm"},ea={class:"mt-6"},ei={class:"block text-sm font-medium mb-2"},en={class:"mt-4"},er={class:"block text-sm font-medium mb-2"},eo={class:"mt-6"},em=(0,l.aZ)({__name:"SSLSettings",setup(e){let{t}=(0,Z.QT)(),{networkForm:s,sslInfo:a,currentDomain:i,serverIp:r,getCommonConfig:o}=x(),m=(0,l.Fl)(()=>!s.value.sslCert||!s.value.sslKey),u=async()=>{await d({certPem:s.value.sslCert,privateKey:s.value.sslKey}),o()},c=()=>{(0,n.iG)({title:"Apply SSL",width:460,content:()=>(0,l.Wm)("div",{style:{lineHeight:"22px"}},[(0,l.Wm)("div",{class:"mb-8px"},[(0,l.Uk)("Certificate Application Functionality:")]),(0,l.Wm)("div",null,[(0,l.Uk)("- Implement certificate application using hostname")]),(0,l.Wm)("div",null,[(0,l.Uk)("- Ensure the hostname has a valid A record configured with:")]),(0,l.Wm)("div",null,[(0,l.Uk)("- Record Type: "),(0,l.Wm)("b",null,[(0,l.Uk)("A")])]),(0,l.Wm)("div",null,[(0,l.Uk)("- Host: "),(0,l.Wm)("b",null,[i.value])]),(0,l.Wm)("div",null,[(0,l.Uk)("- Value: "),(0,l.Wm)("b",null,[r.value])])]),onConfirm:async()=>{await p(),o()}})};return(e,i)=>{let n=G.Z,r=P.Z,o=W.ZP;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",L,(0,l.zw)((0,l.SU)(t)("settings.common.network.ssl")),1),(0,l._)("div",N,[(0,l.Wm)(n,{value:(0,l.SU)(s).sslEnabled,"onUpdate:value":i[0]||(i[0]=e=>(0,l.SU)(s).sslEnabled=e),disabled:""},null,8,["value"]),(0,l._)("label",J,(0,l.zw)((0,l.SU)(t)("settings.common.network.sslEnabled")),1)]),(0,l._)("div",B,[(0,l._)("label",X,(0,l.zw)((0,l.SU)(t)("settings.common.network.certStatus")),1),(0,l._)("div",ee,[(0,l._)("div",{class:(0,l.C_)(["w-3 h-3 rounded-full mr-2 animate-pulse",(0,l.SU)(a).status?"bg-primary":"bg-error"])},null,2),(0,l._)("span",et,(0,l.zw)((0,l.SU)(a).status?(0,l.SU)(t)("settings.common.network.certValidStatus"):(0,l.SU)(t)("settings.common.network.certExpiredStatus"))+"ï¼Œ ",1),(0,l._)("span",es,(0,l.zw)((0,l.SU)(t)("settings.common.network.certExpireTime",{time:(0,l.SU)(a).expireTime})),1),(0,l._)("span",el,(0,l.zw)((0,l.SU)(t)("settings.common.network.certValid",{days:(0,l.SU)(a).expireDays})),1)])]),(0,l._)("div",ea,[(0,l._)("label",ei,(0,l.zw)((0,l.SU)(t)("settings.common.network.sslCert")),1),(0,l.Wm)(r,{value:(0,l.SU)(s).sslCert,"onUpdate:value":i[1]||(i[1]=e=>(0,l.SU)(s).sslCert=e),type:"textarea",rows:6,placeholder:(0,l.SU)(t)("settings.common.network.certPlaceholder"),class:"font-mono text-sm"},null,8,["value","placeholder"])]),(0,l._)("div",en,[(0,l._)("label",er,(0,l.zw)((0,l.SU)(t)("settings.common.network.sslKey")),1),(0,l.Wm)(r,{value:(0,l.SU)(s).sslKey,"onUpdate:value":i[2]||(i[2]=e=>(0,l.SU)(s).sslKey=e),type:"textarea",rows:6,placeholder:(0,l.SU)(t)("settings.common.network.keyPlaceholder"),class:"font-mono text-sm"},null,8,["value","placeholder"])]),(0,l._)("div",eo,[(0,l.Wm)(o,{type:"primary",disabled:(0,l.SU)(m),onClick:u},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(t)("settings.common.network.updateSSL")),1)]),_:1},8,["disabled"]),(0,l.Wm)(o,{type:"primary",class:"ml-12px",ghost:"",onClick:c},{default:(0,l.w5)(()=>i[3]||(i[3]=[(0,l.Uk)(" Apply Certificate ")])),_:1,__:[3]})])])}}}),eu={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},ec={class:"mt-1 text-xs text-gray-500"},ed={class:"mt-1 text-xs text-gray-500"},ep=(0,l.aZ)({__name:"DomainSettings",setup(e){let{currentDomain:t,networkForm:s}=x(),a=async()=>{await c({key:"billionmail_hostname",value:s.value.domain}),t.value=s.value.domain,s.value.domain=""};return(e,i)=>{let n=P.Z,r=k.ZP,o=W.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{label:e.$t("settings.common.network.domain")},{default:(0,l.w5)(()=>[(0,l._)("div",eu,[(0,l._)("div",null,[(0,l.Wm)(n,{value:(0,l.SU)(t),disabled:""},null,8,["value"]),(0,l._)("p",ec,(0,l.zw)(e.$t("settings.common.network.currentDomain")),1)]),(0,l._)("div",null,[(0,l.Wm)(n,{value:(0,l.SU)(s).domain,"onUpdate:value":i[0]||(i[0]=e=>(0,l.SU)(s).domain=e),placeholder:e.$t("settings.common.network.newDomainPlaceholder")},null,8,["value","placeholder"]),(0,l._)("p",ed,(0,l.zw)(e.$t("settings.common.network.domainRule")),1)])])]),_:1},8,["label"]),(0,l._)("div",null,[(0,l.Wm)(o,{type:"primary",disabled:!(0,l.SU)(s).domain,onClick:a},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),ev={class:"flex items-center"},eg={class:"text-lg font-medium"},e_=(0,l.aZ)({__name:"NetworkSettings",setup:e=>(e,t)=>{let s=b.g,a=S.Z,i=U.Z,n=h.ZP;return(0,l.wg)(),(0,l.j4)(n,{class:"mb-8",bordered:!1},{header:(0,l.w5)(()=>[(0,l._)("div",ev,[(0,l.Wm)(s,{class:"mr-2 text-primary",size:"20"},{default:(0,l.w5)(()=>t[0]||(t[0]=[(0,l._)("i",{class:"i-mdi-network"},null,-1)])),_:1,__:[0]}),(0,l._)("span",eg,(0,l.zw)(e.$t("settings.common.network.title")),1)])]),default:(0,l.w5)(()=>[(0,l.Wm)(i,null,{default:(0,l.w5)(()=>[(0,l.Wm)(em),(0,l.Wm)(a),(0,l.Wm)(ep)]),_:1})]),_:1})}});var ew=s(99321),ef=s(77984);let ey={class:"bg-gray-900 text-gray-100 rounded-lg p-4 pr-48px font-mono text-sm relative"},ex={class:"absolute top-0px right-16px h-full flex items-center"},eh={class:"mt-2 text-12px text-desc"},eU=(0,l.aZ)({__name:"Command",props:{value:{type:String,default:""}},setup(e){let{copyText:t}=(0,ef.F)();return(s,a)=>{let i=W.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",ey,[a[2]||(a[2]=(0,l._)("span",{class:"text-gray-400 mr-2"},"$",-1)),(0,l.Uk)((0,l.zw)(e.value)+" ",1),(0,l._)("div",ex,[(0,l.Wm)(i,{text:"",class:"text-desc",onClick:a[0]||(a[0]=s=>(0,l.SU)(t)(e.value))},{default:(0,l.w5)(()=>a[1]||(a[1]=[(0,l._)("i",{class:"i-mdi-content-copy text-18px"},null,-1)])),_:1,__:[1]})])]),(0,l._)("p",eh,(0,l.zw)(s.$t("settings.common.system.copyCommand")),1)],64)}}}),eS={class:"block text-sm font-medium text-basic mb-3"},eb={class:"grid items-start grid-cols-1 md:grid-cols-2 gap-4"},eW={class:"mt-1 text-xs text-desc"},ek={class:"flex items-center"},eP={class:"mt-5"},eZ=(0,l.aZ)({__name:"PortSettings",setup(e){let{t}=(0,Z.QT)(),{currentPort:s,portCommand:a}=x(),i=(0,l.iH)(s.value),n=(0,l.iH)(""),r=e=>{n.value=a.value.replace(/PORT/g,e)};return(0,l.m0)(()=>{i.value=s.value,s.value&&(n.value=a.value.replace(/PORT/g,s.value))}),(e,s)=>{let a=P.Z,o=b.g,m=ew.Z;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",eS,(0,l.zw)((0,l.SU)(t)("settings.common.system.port")),1),(0,l._)("div",eb,[(0,l._)("div",null,[(0,l.Wm)(a,{value:(0,l.SU)(i),"onUpdate:value":[s[0]||(s[0]=e=>(0,l.dq)(i)?i.value=e:null),r]},null,8,["value"]),(0,l._)("p",eW,(0,l.zw)((0,l.SU)(t)("settings.common.system.currentPort")),1)]),(0,l._)("div",ek,[(0,l.Wm)(m,{type:"warning",class:"w-full"},{icon:(0,l.w5)(()=>[(0,l.Wm)(o,null,{default:(0,l.w5)(()=>s[1]||(s[1]=[(0,l._)("i",{class:"i-mdi-alert-circle"},null,-1)])),_:1,__:[1]})]),default:(0,l.w5)(()=>[(0,l.Uk)(" "+(0,l.zw)((0,l.SU)(t)("settings.common.system.terminalRequired")),1)]),_:1})])]),(0,l._)("div",eP,[(0,l.Wm)(eU,{value:(0,l.SU)(n)},null,8,["value"])])])}}});var ez=s(8490);let eC={class:"block text-sm font-medium text-basic mb-3"},eH={class:"grid items-start grid-cols-1 md:grid-cols-2 gap-4"},eT={class:"flex gap-12px"},e$={class:"flex-1"},eE={class:"flex-1"},eD={class:"mt-1 text-xs text-desc"},eR={class:"flex items-center"},ej={class:"mt-5"},eO=(0,l.aZ)({__name:"TimezoneSettings",setup(e){let{t}=(0,Z.QT)(),{currentTime:s,timeCommand:a}=x(),i=(0,l.iH)(""),r=(0,l.iH)(""),o=(0,l.iH)(""),m=(0,l.iH)({}),c=(0,l.iH)([]),d=(0,l.Fl)(()=>{let e=m.value[i.value];return e?e.map(e=>({label:e,value:e})):[]}),p=()=>{let e=m.value[i.value];r.value=e?e[0]:"",v()},v=()=>{i.value&&r.value&&(o.value=a.value.replace(/TIME ZONE/g,`${i.value}/${r.value}`))};return(0,l.YP)(()=>s.value,e=>{if(e){let t=e.split("/");i.value=t[0],r.value=t[1],o.value=a.value.replace(/TIME ZONE/g,`${i.value}/${r.value}`)}},{immediate:!0}),(async()=>{let e=await u();(0,n.Kn)(e)&&(m.value=e,c.value=Object.keys(e).map(e=>({label:e,value:e})))})(),(e,s)=>{let a=ez.Z,n=b.g,m=ew.Z;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",eC,(0,l.zw)((0,l.SU)(t)("settings.common.system.timezone")),1),(0,l._)("div",eH,[(0,l._)("div",null,[(0,l._)("div",eT,[(0,l._)("div",e$,[(0,l.Wm)(a,{value:(0,l.SU)(i),"onUpdate:value":[s[0]||(s[0]=e=>(0,l.dq)(i)?i.value=e:null),p],options:(0,l.SU)(c),filterable:""},null,8,["value","options"])]),(0,l._)("div",eE,[(0,l.Wm)(a,{value:(0,l.SU)(r),"onUpdate:value":[s[1]||(s[1]=e=>(0,l.dq)(r)?r.value=e:null),v],options:(0,l.SU)(d),filterable:""},null,8,["value","options"])])]),(0,l._)("div",eD,(0,l.zw)((0,l.SU)(t)("settings.common.system.currentTime")),1)]),(0,l._)("div",eR,[(0,l.Wm)(m,{type:"warning",class:"w-full"},{icon:(0,l.w5)(()=>[(0,l.Wm)(n,null,{default:(0,l.w5)(()=>s[2]||(s[2]=[(0,l._)("i",{class:"i-mdi-alert-circle"},null,-1)])),_:1,__:[2]})]),default:(0,l.w5)(()=>[(0,l.Uk)(" "+(0,l.zw)((0,l.SU)(t)("settings.common.system.terminalRequired")),1)]),_:1})])]),(0,l._)("div",ej,[(0,l.Wm)(eU,{value:(0,l.SU)(o)},null,8,["value"])])])}}});var eq=s(81021),eA=s(88082),eK=s(54547);let eM={class:"block text-sm font-medium mb-3"},eI={class:"flex justify-between items-center h-34px mb-12px"},eQ={class:"flex item-center gap-8px"},eF={class:"text-desc"},eV={class:"flex gap-8px mb-12px"},eY={class:"flex-1"},eG={class:"text-13px"},eL={class:"mt-12px"},eN=(0,l.aZ)({__name:"IpWhitelistSettings",setup(e){let{ipWhitelistEnable:t,ipWhitelistList:s,getCommonConfig:a}=x(),i=(0,l.iH)(""),{t:r}=(0,Z.QT)(),o=async()=>{if(""===i.value)return void n.v0.error(r("settings.common.ipWhitelist.validation.ipRequired"));await v({ip:i.value}),a(),i.value=""},m=(e,t)=>{(0,n.iG)({title:r("settings.common.ipWhitelist.confirm.deleteTitle"),content:r("settings.common.ipWhitelist.confirm.deleteContent",{ip:s.value[t].ip}),onConfirm:async()=>{await g({id:e}),s.value.splice(t,1)}})},u=e=>{(0,n.iG)({title:e?r("settings.common.ipWhitelist.confirm.enableTitle"):r("settings.common.ipWhitelist.confirm.disableTitle"),content:e?r("settings.common.ipWhitelist.confirm.enableContent"):r("settings.common.ipWhitelist.confirm.disableContent"),onConfirm:async()=>{await c({key:"ip_whitelist_enable",value:`${e}`}),t.value=e}})},d=async()=>{(0,n.iG)({title:r("settings.common.ipWhitelist.confirm.clearTitle"),content:r("settings.common.ipWhitelist.confirm.clearContent"),onConfirm:async()=>{await _(),a()}})};return(e,a)=>{let n=G.Z,c=P.Z,p=W.ZP,v=eK.Z,g=eA.ZP,_=eq.Z;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",eM,(0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.title")),1),(0,l._)("div",eI,[(0,l._)("div",eQ,[(0,l.Wm)(n,{value:(0,l.SU)(t),"onUpdate:value":u},{checked:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.enable")),1)]),unchecked:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.disable")),1)]),_:1},8,["value"])]),(0,l._)("div",eF,(0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.description")),1)]),(0,l._)("div",eV,[(0,l._)("div",eY,[(0,l.Wm)(c,{value:(0,l.SU)(i),"onUpdate:value":a[0]||(a[0]=e=>(0,l.dq)(i)?i.value=e:null),placeholder:(0,l.SU)(r)("settings.common.ipWhitelist.placeholder")},null,8,["value","placeholder"])]),(0,l.Wm)(p,{type:"primary",onClick:o},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.add")),1)]),_:1})]),(0,l.SU)(s).length>0?((0,l.wg)(),(0,l.j4)(g,{key:0,hoverable:"",bordered:""},{default:(0,l.w5)(()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,l.SU)(s),(e,t)=>((0,l.wg)(),(0,l.j4)(v,{key:e.id},{suffix:(0,l.w5)(()=>[(0,l.Wm)(p,{size:"small",quaternary:"",circle:"",onClick:s=>m(e.id,t)},{default:(0,l.w5)(()=>a[1]||(a[1]=[(0,l._)("i",{class:"i-mingcute:close-fill text-16px"},null,-1)])),_:2,__:[1]},1032,["onClick"])]),default:(0,l.w5)(()=>[(0,l._)("span",eG,(0,l.zw)(e.ip),1)]),_:2},1024))),128))]),_:1})):((0,l.wg)(),(0,l.j4)(_,{key:1})),(0,l._)("div",eL,[(0,l.Wm)(p,{onClick:d},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.clear")),1)]),_:1})])])}}}),eJ={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},eB={class:"mt-1 text-xs text-desc"},eX={class:"mt-1 text-xs text-desc"},e0=(0,l.aZ)({__name:"ProxySettings",setup(e){let{t}=(0,Z.QT)(),{currentProxy:s,getCommonConfig:a}=x(),i=(0,l.iH)(""),r=async()=>{await w({domain:i.value}),a(),i.value=""},o=async()=>{(0,n.iG)({title:t("settings.common.proxy.resetConfirm.title"),content:t("settings.common.proxy.resetConfirm.content"),onConfirm:async()=>{await f(),a()}})};return(e,t)=>{let a=P.Z,n=k.ZP,m=W.ZP;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(n,{ref:"formItemRef",label:e.$t("settings.common.proxy.title"),path:"username"},{default:(0,l.w5)(()=>[(0,l._)("div",eJ,[(0,l._)("div",null,[(0,l.Wm)(a,{value:(0,l.SU)(s),readonly:""},null,8,["value"]),(0,l._)("p",eB,(0,l.zw)(e.$t("settings.common.proxy.description")),1)]),(0,l._)("div",null,[(0,l.Wm)(a,{value:(0,l.SU)(i),"onUpdate:value":t[0]||(t[0]=e=>(0,l.dq)(i)?i.value=e:null),placeholder:e.$t("settings.common.proxy.placeholder")},null,8,["value","placeholder"]),(0,l._)("p",eX,(0,l.zw)(e.$t("settings.common.proxy.formatTip")),1)])])]),_:1},8,["label"]),(0,l._)("div",null,[(0,l.Wm)(m,{type:"primary",disabled:!(0,l.SU)(i),onClick:r},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"]),(0,l.Wm)(m,{class:"ml-12px",onClick:o},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(e.$t("settings.common.proxy.reset")),1)]),_:1})])])}}}),e1={class:"flex items-center"},e8={class:"text-lg font-medium"},e5={class:"space-y-8"},e2=(0,l.aZ)({__name:"SystemSettings",setup:e=>(e,t)=>{let s=b.g,a=S.Z,i=h.ZP;return(0,l.wg)(),(0,l.j4)(i,{class:"mb-8",bordered:!1},{header:(0,l.w5)(()=>[(0,l._)("div",e1,[(0,l.Wm)(s,{class:"mr-2 text-primary",size:"20"},{default:(0,l.w5)(()=>t[0]||(t[0]=[(0,l._)("i",{class:"i-mdi-cog"},null,-1)])),_:1,__:[0]}),(0,l._)("span",e8,(0,l.zw)(e.$t("settings.common.system.title")),1)])]),default:(0,l.w5)(()=>[(0,l._)("div",e5,[(0,l.Wm)(eZ),(0,l.Wm)(a),(0,l.Wm)(eO),(0,l.Wm)(a),(0,l.Wm)(eN),(0,l.Wm)(a),(0,l.Wm)(e0)])]),_:1})}}),e4={class:"max-w-4xl mx-auto px-4 py-8"},e6=(0,l.aZ)({__name:"index",setup(e){let t=y();return t.getCommonConfig(),(0,l.Jd)(()=>{t.reset()}),(e,t)=>((0,l.wg)(),(0,l.iD)("div",e4,[(0,l.Wm)(Y),(0,l.Wm)(e_),(0,l.Wm)(e2)]))}})}}]);