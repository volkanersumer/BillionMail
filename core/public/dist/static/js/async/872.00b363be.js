"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["872"],{3312:function(e,a,t){t.d(a,{d:()=>r});var l=t(209),s=t(8429);let i=Symbol("MODAL_INJECT"),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{state:a={},component:t,onCancel:r,onConfirm:M}=e,u=(0,l.qj)({});return t?[(0,l.aZ)({setup(s,r){let{attrs:M,slots:d}=r;return(0,l.JJ)(i,{state:a,options:e,extendApi:e=>{Object.setPrototypeOf(u,e)},setState:e=>{Object.assign(a,e)}}),()=>(0,l.h)(t,{...s,...M},d)}}),u]:[(0,l.aZ)({setup(a,t){let{attrs:d,slots:n}=t,o=(0,l.f3)(i),m=(0,l.iH)(!1);return u.open=()=>{var a;m.value=!0,null===(a=e.onChangeState)||void 0===a||a.call(e,m.value)},u.close=()=>{m.value=!1},u.setState=a=>{var t;null==o||o.setState(a),null===(t=e.onChangeState)||void 0===t||t.call(e,m.value)},u.getState=()=>(null==o?void 0:o.state)??{},null==o||o.extendApi(u),()=>(0,l.Wm)(s.Z,(0,l.dG)({show:m.value},a,d,{onCancel:r,onConfirm:M,"onUpdate:show":e=>{m.value=e??!1}}),n)}}),u]}},3951:function(e,a,t){t.d(a,{Z:()=>i});var l=t(9833),s=t(209);let i=(0,s.aZ)({__name:"index",props:{model:{},rules:{},labelWidth:{},labelPlacement:{default:"top"}},setup(e,a){let{expose:t}=a,i=(0,s.iH)(null);return t({validate:()=>{var e;return null===(e=i.value)||void 0===e?void 0:e.validate()},restoreValidation:()=>{var e;return null===(e=i.value)||void 0===e?void 0:e.restoreValidation()}}),(e,a)=>{let t=l.Z;return(0,s.wg)(),(0,s.j4)(t,(0,s.dG)(e.$attrs,{ref_key:"formRef",ref:i,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement}),{default:(0,s.w5)(()=>[(0,s.WI)(e.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},1167:function(e,a,t){t.r(a),t.d(a,{default:()=>eN});var l=t(6582),s=t(1211),i=t(3447),r=t(209),M=t(2965),u=t(3312),d=t(4203);let{t:n}=t(4958).Z.global,o=()=>d.e.get("/relay/list"),m=e=>d.e.post("/relay/add",e,{fetchOptions:{successMessage:!0,loading:n("smtp.api.loading.adding")}}),c=e=>d.e.post("/relay/edit",e,{fetchOptions:{successMessage:!0,loading:n("smtp.api.loading.editing")}}),N=e=>d.e.post("/relay/test_connection",e,{fetchOptions:{successMessage:!0,loading:n("smtp.api.loading.testing")}}),g=e=>d.e.post("/relay/delete",e,{fetchOptions:{successMessage:!0,loading:n("smtp.api.loading.deleting")}}),I=()=>d.e.get("/relay/get_unbound_domains");var p=t(5476),y=t(9946),D=t(8738);let j={class:"status-text"},w=(0,r.aZ)({__name:"SmtpStatus",props:{value:{type:Boolean,default:!1}},setup:e=>(a,t)=>{let l=D.ZP;return(0,r.wg)(),(0,r.j4)(l,{size:"small",bordered:!1},{default:(0,r.w5)(()=>[(0,r._)("div",{class:(0,r.C_)(["status-icon",e.value?"status-success":"status-error"])},null,2),(0,r._)("div",j,(0,r.zw)(e.value?a.$t("smtp.status.online"):a.$t("smtp.status.offline")),1)]),_:1})}});var T=t(5115);let v=(0,T.default)(w,[["__scopeId","data-v-32ed8e22"]]),L={class:"smtp-card relative rounded-8px p-16px shadow-sm"},_={class:"flex items-center mb-16px"},A={class:"flex items-center flex-1"},z={class:"w-32px h-32px flex items-center justify-center rounded-full bg-primary-100"},x=["src"],S={class:"ml-16px flex items-center gap-10px flex-1 min-w-0"},h={class:"text-18px font-600 truncate"},C={class:"ml-8px"},E={class:"smtp-desc"},O={class:"smtp-info"},b={class:"info-row"},f={class:"info-label"},U={class:"info-value truncate"},k={class:"info-row"},Q={class:"info-label"},Y={class:"info-value"},W={class:"info-row"},Z={class:"info-label"},P={class:"info-value"},G={class:"info-row"},R={class:"info-label"},B={class:"info-value truncate"},H={class:"action-buttons"},F=(0,r.aZ)({__name:"SmtpCard",props:{service:{type:Object,required:!0}},emits:["edit","delete"],setup(e,a){let{emit:t}=a,l=(0,r.Fl)(()=>{switch(e.service.smtp_name){case"Gmail":return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMjQgNS40NTd2MTMuOTA5YzAgLjkwNC0uNzMyIDEuNjM2LTEuNjM2IDEuNjM2aC0zLjgxOVYxMS43M0wxMiAxNi42NGwtNi41NDUtNC45MXY5LjI3M0gxLjYzNkExLjYzNiAxLjYzNiAwIDAgMSAwIDE5LjM2NlY1LjQ1N2MwLTIuMDIzIDIuMzA5LTMuMTc4IDMuOTI3LTEuOTY0TDUuNDU1IDQuNjQgMTIgOS41NDhsNi41NDUtNC45MSAxLjUyOC0xLjE0NUMyMS42OSAyLjI4IDI0IDMuNDM0IDI0IDUuNDU3eiIgZmlsbD0iI0QxNDgzNiIvPjwvc3ZnPg==";case"Mailgun":return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MSAwLTgtMy41OS04LThzMy41OS04IDgtOCA4IDMuNTkgOCA4LTMuNTkgOC04IDh6IiBmaWxsPSIjRjA0MjNCIi8+PHBhdGggZD0iTTEyIDZjLTMuMzEgMC02IDIuNjktNiA2czIuNjkgNiA2IDYgNi0yLjY5IDYtNi0yLjY5LTYtNi02em0wIDEwYy0yLjIxIDAtNC0xLjc5LTQtNHMxLjc5LTQgNC00IDQgMS43OSA0IDQtMS43OSA0LTQgNHoiIGZpbGw9IiNGMDQyM0IiLz48L3N2Zz4=";case"AWS SES":return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTMuMTA2IDEwLjYzM0wyMi44IDEyLjczQTExLjk0NyAxMS45NDcgMCAwIDAgMTIgNC4yYy02LjYyNCAwLTEyIDUuMzc2LTEyIDEyczUuMzc2IDEyIDEyIDEyYzQuOTY4IDAgOS4yNDItMy4wMyAxMS4xMDYtNy4zNDJMMTMuMTA2IDE4Ljc1VjEwLjYzM3oiIGZpbGw9IiNGRjk5MDAiLz48cGF0aCBkPSJNMTQuNCA4LjR2MTAuOEwyNCAxNi44bC05LjYtOC40eiIgZmlsbD0iI0ZGOTkwMCIvPjwvc3ZnPg==";case"SendGrid":return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTEgMTVoLTJ2LTZoMnY2em00IDBoLTJ2LTZoMnY2em00LTcuNWMwIC44My0uNjcgMS41LTEuNSAxLjVoLTljLS44MyAwLTEuNS0uNjctMS41LTEuNVY4YzAtLjgzLjY3LTEuNSAxLjUtMS41aDljLjgzIDAgMS41LjY3IDEuNSAxLjV2MS41eiIgZmlsbD0iIzFBODJFMiIvPjwvc3ZnPg==";case"custom":default:return"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzQ3NjQwNjIwNDUzIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjUgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjM4MTciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwLjE5NTMxMjUiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNODQxLjE0Mjg1NyA3My4xNDI4NTdhMTA5LjcxNDI4NiAxMDkuNzE0Mjg2IDAgMCAxIDEwOS4yMDIyODYgOTkuMTgxNzE0TDk1MC44NTcxNDMgMTgyLjg1NzE0M3YyOTQuMTA3NDI4YTM2LjU3MTQyOSAzNi41NzE0MjkgMCAwIDEtNzIuNTU3NzE0IDYuNTgyODU4TDg3Ny43MTQyODYgNDc2Ljk2NDU3MVYxOTQuMzQwNTcxTDU2OS4wNTE0MjkgNDU5Ljc3NmMtMzIuMTgyODU3IDE5LjUyOTE0My03MS44MjYyODYgMjEuMjExNDI5LTEwOC45MDk3MTUgMi4xMjExNDNsLTEwLjAyMDU3MS01LjcwNTE0M0wxNDYuMjg1NzE0IDE5NC41NnY1NzMuNDRhMzYuNTcxNDI5IDM2LjU3MTQyOSAwIDAgMCAyOS45ODg1NzIgMzUuOTg2Mjg2TDE4Mi44NTcxNDMgODA0LjU3MTQyOWgyMjEuODQyMjg2YTM2LjU3MTQyOSAzNi41NzE0MjkgMCAwIDEgNi41ODI4NTcgNzIuNTU3NzE0bC02LjU4Mjg1NyAwLjU4NTE0M0gxODIuODU3MTQzYTEwOS43MTQyODYgMTA5LjcxNDI4NiAwIDAgMS0xMDkuMjAyMjg2LTk5LjE4MTcxNUw3My4xNDI4NTcgNzY4di01ODUuMTQyODU3YTEwOS43MTQyODYgMTA5LjcxNDI4NiAwIDAgMSA5OS4xODE3MTQtMTA5LjIwMjI4NkwxODIuODU3MTQzIDczLjE0Mjg1N2g2NTguMjg1NzE0eiBtLTE5LjY3NTQyOCA3My4xNDI4NTdIMjAyLjI0TDQ5Mi45ODI4NTcgMzk3LjIzODg1N2E0MC43NDA1NzEgNDAuNzQwNTcxIDAgMCAwIDI5LjI1NzE0MyA1LjA0Njg1N2wzLjk0OTcxNC0xLjQ2Mjg1N0w4MjEuNDY3NDI5IDE0Ni4yODU3MTR6IiBmaWxsPSIjNEM1RDdDIiBwLWlkPSIzODE4Ij48L3BhdGg+PHBhdGggZD0iTTg1Ny41MjY4NTcgNjI2LjM5NTQyOWw1LjYzMiAzLjUxMDg1NyAxNDYuNjUxNDI5IDEwOS40MjE3MTRhMzYuNTcxNDI5IDM2LjU3MTQyOSAwIDAgMSA1LjU1ODg1NyA1My42MTM3MTRsLTUuMjY2Mjg2IDQuODI3NDI5LTE0Mi40ODIyODYgMTA4LjU0NGEzNi41NzE0MjkgMzYuNTcxNDI5IDAgMCAxLTQ5LjIyNTE0Mi01My43Nmw0LjkwMDU3MS00LjM4ODU3MiA1Ni4zMi00My4wMDgtMjU3Ljc1NTQyOSAwLjA3MzE0M2EzNi41NzE0MjkgMzYuNTcxNDI5IDAgMCAxLTYuNTgyODU3LTcyLjU1NzcxNGw2LjU4Mjg1Ny0wLjU4NTE0M0g4NzcuNzE0Mjg2bC01OC4yOTQ4NTctNDMuNTkzMTQzYTM2LjU3MTQyOSAzNi41NzE0MjkgMCAwIDEgMzguMTA3NDI4LTYyLjA5ODI4NXoiIGZpbGw9IiMxNDc2QkIiIHAtaWQ9IjM4MTkiPjwvcGF0aD48L3N2Zz4=";case"local":return"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzQ3NjQwNjAxODg1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI3ODIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTTgyOC44NDg3ODggMTI5LjUwMzYyNGMxNzIuNTAwODc1IDE2OC45MTc3NzEgMTc1LjA2MDIzNSA0NDUuODQwNTQgNi4xNDI0NjQgNjE4LjM0MTQxNWwtNi4xNDI0NjQgNi4xNDI0NjQtMjQzLjY1MTA4NyAyNDAuMDY3OTgzYy00MC40Mzc4OTEgMzkuOTI2MDE4LTEwNS40NDU2MzkgMzkuOTI2MDE4LTE0NS44ODM1MyAwbC0yNDMuNjUxMDg3LTI0MC4wNjc5ODNDMjMuMTYyMjA5IDU4NS4wNjk3MzMgMjAuNjAyODQ5IDMwOC4xNDY5NjMgMTg5LjUyMDYyIDEzNS42NDYwODhsNi4xNDI0NjQtNi4xNDI0NjRjMTc0LjU0ODM2My0xNzIuNTAwODc1IDQ1OC4xMjU0NjktMTcyLjUwMDg3NSA2MzMuMTg1NzA0IDB6TTUxMiAyMzguMDIwNDk1Yy0xMTQuMTQ3NDYzIDAtMjA2Ljc5NjMwMSA5MS4xMTMyMjItMjA2Ljc5NjMwMSAyMDMuNzI1MDY5czkyLjY0ODgzOCAyMDMuNzI1MDY5IDIwNi43OTYzMDEgMjAzLjcyNTA2OCAyMDYuNzk2MzAxLTkxLjExMzIyMiAyMDYuNzk2MzAxLTIwMy43MjUwNjgtOTIuNjQ4ODM4LTIwMy43MjUwNjktMjA2Ljc5NjMwMS0yMDMuNzI1MDY5eiIgZmlsbD0iIzRFNTRDOCIgcC1pZD0iMjc4MyI+PC9wYXRoPjwvc3ZnPg=="}}),s=()=>{t("edit",e.service)},M=()=>{t("delete",e.service)},u=async a=>{await c({id:e.service.id,active:a}),e.service.active=a};return(a,t)=>{let d=y.Z,n=p.ZP,o=i.ZP;return(0,r.wg)(),(0,r.iD)("div",L,[(0,r._)("div",_,[(0,r._)("div",A,[(0,r._)("div",z,[(0,r._)("img",{src:(0,r.SU)(l),class:"w-full h-full object-contain"},null,8,x)]),(0,r._)("div",S,[(0,r._)("div",h,(0,r.zw)(e.service.smtp_name),1),(0,r.Wm)(v,{value:e.service.smtp_status.status},null,8,["value"])])]),(0,r._)("div",C,[(0,r.Wm)(d,{value:e.service.active,"checked-value":1,"unchecked-value":0,"onUpdate:value":u},null,8,["value"])])]),(0,r._)("div",E,(0,r.zw)(e.service.remark),1),(0,r._)("div",O,[(0,r._)("div",b,[(0,r._)("span",f,(0,r.zw)(a.$t("smtp.card.domain"))+"：",1),(0,r._)("span",U,[(0,r.Wm)(n,null,{default:(0,r.w5)(()=>[(0,r.Uk)((0,r.zw)(e.service.sender_domain),1)]),_:1})])]),(0,r._)("div",k,[(0,r._)("span",Q,(0,r.zw)(a.$t("smtp.card.server"))+"：",1),(0,r._)("span",Y,[(0,r.Wm)(n,null,{default:(0,r.w5)(()=>[(0,r.Uk)((0,r.zw)(e.service.relay_host),1)]),_:1})])]),(0,r._)("div",W,[(0,r._)("span",Z,(0,r.zw)(a.$t("smtp.card.port"))+"：",1),(0,r._)("span",P,(0,r.zw)(e.service.relay_port),1)]),(0,r._)("div",G,[(0,r._)("span",R,(0,r.zw)(a.$t("smtp.card.username"))+"：",1),(0,r._)("span",B,(0,r.zw)(e.service.auth_user),1)])]),(0,r._)("div",H,[(0,r.Wm)(o,{secondary:"",class:"action-btn",onClick:s},{icon:(0,r.w5)(()=>t[0]||(t[0]=[(0,r._)("i",{class:"i-mdi-edit"},null,-1)])),_:1}),(0,r.Wm)(o,{secondary:"",class:"action-btn",onClick:M},{icon:(0,r.w5)(()=>t[1]||(t[1]=[(0,r._)("i",{class:"i-mdi-delete"},null,-1)])),_:1})])])}}}),J=(0,T.default)(F,[["__scopeId","data-v-060b5dbe"]]);var $=t(3951),V=t(4603),q=t(6883),X=t(5891),K=t(1948),ee=t(105),ea=t(8454),et=t(5778);let el=(0,r.aZ)({__name:"SmtpForm",setup(e){let{t:a}=(0,et.QT)(),t=(0,r.iH)(!1),l=(0,r.Fl)(()=>t.value?a("smtp.form.editTitle"):a("smtp.form.addTitle")),s=(0,r.iH)(0),d=(0,r.AE)("formRef"),n=(0,r.qj)({rtype:"custom",smtp_name:"",sender_domain:null,relay_host:"",relay_port:587,auth_user:"",auth_password:"",remark:"",active:1}),o={smtp_name:{required:!0,message:a("smtp.form.validation.nameRequired"),trigger:["blur","input"]},sender_domain:{required:!0,message:a("smtp.form.validation.domainRequired"),trigger:["change"]},relay_host:{required:!0,message:a("smtp.form.validation.serverRequired"),trigger:["blur","input"]},relay_port:{required:!0,trigger:["blur","input"],validator:(e,t)=>!!t||Error(a("smtp.form.validation.portRequired"))},auth_user:{required:!0,message:a("smtp.form.validation.usernameRequired"),trigger:["blur","input"]},auth_password:{required:!0,message:a("smtp.form.validation.passwordRequired"),trigger:["blur","input"]}},g=(0,r.iH)([]),p=async()=>{let e=await I();if((0,M.kJ)(e)){let t=e.filter(e=>!e.is_bound);g.value=e.map(e=>({label:`${e.domain}${e.is_bound?a("smtp.form.bind"):""}`,value:e.domain,disabled:e.is_bound})),n.sender_domain||(t.length>0?n.sender_domain=t[0].domain:n.sender_domain=null)}},y={gmail:{smtp_name:"Gmail",relay_host:"smtp.gmail.com",relay_port:587,username:"",password:"",remark:"Gmail"},mailgun:{smtp_name:"Mailgun",relay_host:"smtp.mailgun.org",relay_port:587,username:"",password:"",remark:"Mailgun"},aws:{smtp_name:"AWS SES",relay_host:"email-smtp.us-east-1.amazonaws.com",relay_port:587,username:"",password:"",remark:"AWS SES"},sendgrid:{smtp_name:"SendGrid",relay_host:"smtp.sendgrid.net",relay_port:587,username:"apikey",password:"",remark:"SendGrid"},custom:{smtp_name:"Custom SMTP Relay",relay_host:"",relay_port:587,username:"",password:"",remark:"Custom SMTP Relay"}},D=()=>{let e=y[n.rtype];e&&(n.smtp_name=e.smtp_name,n.relay_host=e.relay_host,n.relay_port=e.relay_port,n.auth_user=e.username,n.auth_password=e.password,n.remark=e.remark)},j=()=>{s.value=0,n.smtp_name="",n.sender_domain="",n.relay_host="",n.relay_port=587,n.auth_user="",n.auth_password="",n.remark="",n.active=1},w=async()=>{var e;await (null===(e=d.value)||void 0===e?void 0:e.validate()),await N({sender_domain:n.sender_domain||"",relay_host:n.relay_host,relay_port:n.relay_port,auth_user:n.auth_user,auth_password:n.auth_password})},T=()=>({rtype:n.rtype,smtp_name:n.smtp_name,sender_domain:n.sender_domain||"",relay_host:n.relay_host,relay_port:n.relay_port,auth_user:n.auth_user,auth_password:n.auth_password,remark:n.remark,active:n.active}),[v,L]=(0,u.d)({onChangeState:e=>{if(e){p();let e=L.getState();if(n.rtype=e.type,t.value=e.isEdit,D(),e.row){let{row:a}=e;s.value=a.id,n.rtype=a.rtype,n.smtp_name=a.smtp_name,n.sender_domain=a.sender_domain,n.relay_host=a.relay_host,n.relay_port=(0,M.Dx)(a.relay_port),n.auth_user=a.auth_user,n.auth_password=a.auth_password,n.remark=a.remark,n.active=a.active}}else j()},onConfirm:async()=>{var e;await (null===(e=d.value)||void 0===e?void 0:e.validate());let a=T();t.value?await c({...a,id:s.value}):await m(a),L.getState().refresh()}});return(e,a)=>{let s=ea.Z,M=ee.ZP,u=K.Z,m=X.Z,c=q.ZP,N=V.Z,I=$.Z,p=i.ZP;return(0,r.wg)(),(0,r.j4)((0,r.SU)(v),{title:(0,r.SU)(l),width:"500"},{"footer-left":(0,r.w5)(()=>[(0,r.Wm)(p,{type:"primary",ghost:"",onClick:w},{default:(0,r.w5)(()=>[(0,r.Uk)((0,r.zw)(e.$t("smtp.form.testConnection")),1)]),_:1})]),default:(0,r.w5)(()=>[(0,r.Wm)(I,{ref_key:"formRef",ref:d,model:(0,r.SU)(n),rules:o,class:"pt-16px"},{default:(0,r.w5)(()=>[(0,r.Wm)(u,{cols:1,"x-gap":24},{default:(0,r.w5)(()=>[(0,r.Wm)(M,{span:1,label:e.$t("smtp.form.remark"),path:"remark"},{default:(0,r.w5)(()=>[(0,r.Wm)(s,{value:(0,r.SU)(n).remark,"onUpdate:value":a[0]||(a[0]=e=>(0,r.SU)(n).remark=e)},null,8,["value"])]),_:1},8,["label"])]),_:1}),(0,r.Wm)(c,{label:e.$t("smtp.form.domain"),path:"sender_domain"},{default:(0,r.w5)(()=>[(0,r.Wm)(m,{value:(0,r.SU)(n).sender_domain,"onUpdate:value":a[1]||(a[1]=e=>(0,r.SU)(n).sender_domain=e),disabled:(0,r.SU)(t),options:(0,r.SU)(g)},null,8,["value","disabled","options"])]),_:1},8,["label"]),(0,r.Wm)(u,{cols:8,"x-gap":24},{default:(0,r.w5)(()=>[(0,r.Wm)(M,{span:6,label:e.$t("smtp.form.server"),path:"relay_host"},{default:(0,r.w5)(()=>[(0,r.Wm)(s,{value:(0,r.SU)(n).relay_host,"onUpdate:value":a[2]||(a[2]=e=>(0,r.SU)(n).relay_host=e)},null,8,["value"])]),_:1},8,["label"]),(0,r.Wm)(M,{span:2,label:e.$t("smtp.form.port"),path:"relay_port"},{default:(0,r.w5)(()=>[(0,r.Wm)(N,{value:(0,r.SU)(n).relay_port,"onUpdate:value":a[3]||(a[3]=e=>(0,r.SU)(n).relay_port=e),class:"flex-1","show-button":!1,min:1},null,8,["value"])]),_:1},8,["label"])]),_:1}),(0,r.Wm)(c,{label:e.$t("smtp.form.username"),path:"auth_user"},{default:(0,r.w5)(()=>[(0,r.Wm)(s,{value:(0,r.SU)(n).auth_user,"onUpdate:value":a[4]||(a[4]=e=>(0,r.SU)(n).auth_user=e)},null,8,["value"])]),_:1},8,["label"]),(0,r.Wm)(c,{label:e.$t("smtp.form.password"),path:"auth_password"},{default:(0,r.w5)(()=>[(0,r.Wm)(s,{value:(0,r.SU)(n).auth_password,"onUpdate:value":a[5]||(a[5]=e=>(0,r.SU)(n).auth_password=e),class:"password-input",type:"password"},null,8,["value"])]),_:1},8,["label"]),(0,r.kq)("",!0)]),_:1},8,["model"])]),_:1},8,["title"])}}});var es=t(304);let ei={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-16px"},er=(0,T.default)({},[["render",function(e,a){let t=es.Z;return(0,r.wg)(),(0,r.iD)("div",ei,[(0,r.Wm)(t,{height:266,sharp:!1}),(0,r.Wm)(t,{height:266,sharp:!1}),(0,r.Wm)(t,{height:266,sharp:!1}),(0,r.Wm)(t,{height:266,sharp:!1}),(0,r.Wm)(t,{height:266,sharp:!1})])}]]),eM={class:"p-24px"},eu={class:"bt-title mb-10px!"},ed={class:"mb-20px text-14px text-desc"},en={class:"flex gap-8px mb-16px"},eo={class:"mr-4px"},em={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-16px"},ec={key:2,class:"flex-center h-400px text-center text-desc"},eN=(0,r.aZ)({__name:"index",setup(e){let{t:a}=(0,et.QT)(),t=(0,r.iH)(!1),d=(0,r.iH)([]),n=[{label:"Gmail",key:"gmail"},{label:"Mailgun",key:"mailgun"},{label:"AWS SES",key:"aws"},{label:"SendGrid",key:"sendgrid"},{label:a("smtp.providers.custom"),key:"custom"}],m=e=>{I.setState({isEdit:!1,type:e,row:null}),I.open()},c=async()=>{try{t.value=!0;let e=await o();(0,M.Kn)(e)&&(d.value=(0,M.kJ)(e.list)?e.list:[])}finally{t.value=!1}},[N,I]=(0,u.d)({component:el,state:{isEdit:!1,type:"custom",refresh:c}}),p=e=>{I.setState({isEdit:!0,row:e}),I.open()},y=e=>{(0,M.iG)({title:a("smtp.delete.title"),content:a("smtp.delete.confirm",{name:e.smtp_name}),onConfirm:async()=>{await g({id:e.id}),c()}})};return c(),(e,a)=>{let M=i.ZP,u=s.Z,o=l.Z;return(0,r.wg)(),(0,r.iD)("div",eM,[(0,r._)("div",eu,(0,r.zw)(e.$t("smtp.title")),1),(0,r._)("div",ed,(0,r.zw)(e.$t("smtp.description")),1),(0,r._)("div",en,[(0,r.Wm)(u,{placement:"bottom-start",trigger:"hover",size:"large",options:n,onSelect:m},{default:(0,r.w5)(()=>[(0,r.Wm)(M,{type:"primary"},{default:(0,r.w5)(()=>[(0,r._)("span",eo,(0,r.zw)(e.$t("common.actions.add")),1),a[0]||(a[0]=(0,r._)("i",{class:"i-mdi-chevron-down text-17px"},null,-1))]),_:1})]),_:1})]),(0,r.SU)(t)?((0,r.wg)(),(0,r.j4)(er,{key:0})):(0,r.SU)(d).length>0?((0,r.wg)(),(0,r.iD)("div",em,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,r.SU)(d),e=>((0,r.wg)(),(0,r.j4)(J,{key:e.id,service:e,onEdit:p,onDelete:y},null,8,["service"]))),128))])):((0,r.wg)(),(0,r.iD)("div",ec,[(0,r.Wm)(o,{size:"large",description:"{{ $t('smtp.empty') }}"})])),(0,r.Wm)((0,r.SU)(N))])}}})}}]);